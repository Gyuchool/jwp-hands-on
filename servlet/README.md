## 서블릿
### 서블릿 생명 주기

웹 컨테이너(톰캣)이 실행되면 서블릿 클래스(.class)파일을 로드한다. 

init(): 서블릿이 처음 실행했을 때, 한 번만 호출한다.

service(): 비즈니스 로직을 작성하는 공간이다.

destroy(): 서블릿이 꺼질 때, 한 번만 호출된다.

서블릿: 각 로직마다 하나의 서블릿 객체만 생성한다.

- **싱글톤 패턴이 아니다**: 싱글톤 패턴의 경우 객체로 딱 한번만 생성할 수 있도록 클래스 내부적으로 처리해놓는다.

서블릿 객체는 하나지만 개별 요청마다 별개의 쓰레드를 생성하여, 해당 쓰레드에서 서블릿이 요청을 처리한다.

## 요청 처리 과정

서블릿과 서블릿 컨테이너 요청 처리

`톰캣: 서블릿 컨테이너 or WAS`

1. 클라이언트로부터 요청이 들어오면 웹 컨테이너(톰캣)이 요청을 받는다.
2. 로그인을 처리하는 서블릿을 개발자가 작성했으면, 컴파일 후 만들어진 클래스파일을
   웹 컨테이너(WAS)가 서블릿 객체로 만들어논다.
    - 로그인을 처리하는 서블릿은 하나만 만들어 진다.
    - 로그아웃을 처리하는 서블릿은 하나만 만들어 진다.
    - 하지만 싱글톤은 아니다. 내부가 싱글톤 구조가 아니다. 구조상 한 번만 만들 뿐
3. 요청을 가지고 Request, Response 객체를 만든다.
4. URL에 맞춰 적절한 서블릿을 찾아서 service()메서드를 실행한다. 파라미터로 Request, Response를 보내준다.
5. 서블릿 객체는 하나지만 여러 스레드가 작동하므로 가능하다.
6. response객체로 컨테이너에게 돌려주면 컨테이너는 클라이언트에게 준다.
7. 서블릿 객체는 유지되지만, 쓰레드는 반납하고 Request, Response객체는 JVM에 반환한다.
